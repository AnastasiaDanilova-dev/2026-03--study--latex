---
## Author
author:
  name: Данилова Анастасия Сергеевна
  email: 1132249523@pfur.ru
  affiliation:
    - name: Российский университет дружбы народов
      country: Российская Федерация
      postal-code: 117198
      city: Москва
      address: ул. Миклухо-Маклая, д. 6

## Title
title: "Лабораторная работа №5"
subtitle: "Таблицы"
license: "CC BY"
---

# Цель работы

Освоить создание таблиц в Latex, изучить предложенные токены преамбулы и варианты оформления таблиц.

# Задание

Повторить приведенные примеры, а также выполнить упражнения:

- Используйте простой пример таблицы, чтобы начать экспериментировать с таблицами.
- Попробуйте различные выравнивания, используя типы столбцов l, c и r.
- Что произойдет, если в строке таблицы будет слишком мало элементов?
- Как насчет слишком большого количества?
- Поэкспериментируйте с командой multicolumn, чтобы охватить все столбцы.


# Теоретическое введение

Таблицы в LaTeX настраиваются с использованием tabular среды.
Мы загружаем пакет array, который добавляет больше функциональности в
таблицы LaTeX, и которые не встроены в ядро LaTeX только по историческим причинам.
Если мы добавим в преамбулу следующее, то мы готовы к работе: чтобы набрать таблицу, мы должны указать LaTeX, сколько столбцов
потребуется и как они должны быть выровнены. Это делается с помощью обязательного аргумента –
часто называемого преамбулой таблицы – для tabular среды, в которой
мы указываем столбцы, используя однобуквенные имена, называемые токенами преамбулы.

Подробнее можно изучить в [@kotelnikov_chebotaev_book_latex2_ru; @lvovsky_book_latex_ru].

# Выполнение лабораторной работы

Начнем с самой простой таблицы, где текст в колонках будет выровнен по левому краю.

![Простой пример](image/1.png){#fig-001 width=70%}

![Результат](image/2.png){#fig-002 width=70%}

Далее попробуем поэкспериментировать с текстом внутри колонок. Сделаем текст больше, чем размер колонки.

Как видно на скриншоте, текст, который не влез - обрезан правым краем страницы. ([рис. @fig-003]).

![Большой текст](image/3.png){#fig-003 width=70%}

Чтобы исправить это, мы можем использовать столбец типа p. Он набирает свое содержимое в виде абзацев с шириной, указанной нами, как аргумент и выравнивает их.

![Корректировка таблицы](image/4.png){#fig-004 width=70%}

Если в таблице много столбцов одного типа, то будет неудобно помещать
в преамбулу такое количество токенов. Мы можем упростить задачу, используя
*{num}{string}, который повторяет строку num раз. Итак, *{6}{c} эквивалентно
cccccc. 
![Количество токенов](image/5.png){#fig-005 width=70%}

Код немного изменен, а результат остается таким же. ([рис. @fig-005]).

Добавим разделения, которые свойственны для таблиц.

![Результат с линиями](image/6.png){#fig-006 width=70%}

С помощью cmidrule можно создать правило, которое охватывает не всю ширину таблицы, а только указанный
диапазон столбцов. Диапазон столбцов вводится, как диапазон чисел: {number-число}.
Даже если мы хотим нарисовать правило только для одного столбца, нужно указать
его в качестве диапазона

![cmidrule](image/7.png){#fig-007 width=70%}

Мы также можем указать правило с любого конца
с помощью необязательного аргумента, заключенного в круглые скобки:

![Разнообразие cmidrule](image/8.png){#fig-008 width=70%}

Для более четкого понимания смысла строки нужно каким-то образом разделить. В этом случае
мы можем использовать addlinespace для вставки небольшого пропуска.

![Разделение](image/9.png){#fig-009 width=70%}

В LaTeX можно объединить ячейки по горизонтали, используя команду multicolumn.
multicolumn принимает три аргумента:
1. Количество ячеек, которые должны быть объединены
2. Выравнивание объединяемой ячейки
3. Содержимое объединенной ячейки

![Объединение ячеек](image/10.png){#fig-010 width=70%}

Мы также можем использовать multicolumn для отдельной ячейки, чтобы предотвратить применение того, что мы определили в преамбуле таблицы для текущего столбца. В следующем
примере этот метод используется для центрирования верхней строки таблицы:

![Объединение ячеек](image/11.png){#fig-011 width=70%}

Объединение ячеек по вертикали в LaTeX не поддерживается. Обычно достаточно оставить ячейки
пустыми, чтобы у читателя сложилось правильное представление о том, что имелось в виду, не
заставляя ячейки явно занимать строки.

![Пустые ячейки](image/12.png){#fig-012 width=70%}

Поскольку > и < можно использовать для размещения элементов до и после содержимого ячейки
столбца, мы можем использовать их для добавления команд, которые влияют на внешний вид столбца.
Например, если мы хотим выделить курсивом первый столбец и поставить после него двоеточие:

![Курсив](image/13.png){#fig-013 width=70%}

Можно не применять курсив к преамбуле:

![Объединение в преамбуле](image/14.png){#fig-014 width=70%}

Обычно Latex с обеих сторон перекрывает каждый столбец на некоторое расстояние, чтобы придать им сбалансированный
вид и разделить их. Это расстояние определяется длиной tabcolsep. 

![tabcolsep](image/15.png){#fig-015 width=70%}

Мы можем изменить этот пробел на что-то произвольное, используя @. Это уберет
отступы между двумя столбцами или с обоих концов, и вместо этого поместит что-либо между столбцами, указанными вами в качестве аргумента

![Пробел](image/16.png){#fig-016 width=70%}

Токен ! преамбулы выполняет нечто очень похожее. Разница в том, что он добавляет
свой аргумент в центр пространства между двумя столбцами.

![Токен](image/17.png){#fig-017 width=70%}

Также мы можем добавить вертикальное разделение:

![Вертикальное разделение](image/18.png){#fig-018 width=70%}

Добавляя необязательные параметры в квадратные скобки, мы можем задавать новые правила и, к примеру, изменять толщину линий

![Толщина](image/19.png){#fig-019 width=70%}

Выравнивание чисел в таблицах может быть выполнено с помощью столбцов типа S, которые
предоставляются пакетом siunitx.
Простой пример с двумя выровненными числовыми столбцами может быть следующим:

![Числа](image/20.png){#fig-020 width=70%}

Среда tabular принимает дополнительный аргумент width, который определяет
общую ширину таблицы. В таблицу необходимо добавить разделительный интервал с помощью
команды extracolsep. Этот интервал добавляется между всеми столбцами, начиная с этого
места в преамбуле. Он почти всегда используется с fill, специальным пространством, которое
растягивается настолько, насколько это необходимо.

![Ширина](image/21.png){#fig-021 width=70%}

Автоматически определяемая ширина, в зависимости от количества текста

![Широкие колонки](image/22.png){#fig-022 width=70%}

Иногда требуются сноски, для определений и пояснений:

![Сноски](image/23.png){#fig-023 width=70%}

В следующем примере показаны некоторые возможные подходы для переноса строк. Первая таблица показывает interword интервал растягивается и Latex предупреждает о
Underfull линии. Использование raggedright обычно позволяет избежать этой проблемы, но может сделать
некоторые строки "слишком неровными’. Команда RaggedRight из пакета ragged2e является компромиссом; она допускает некоторую неравномерность в длине строк, но
при необходимости также переносит их через дефис, как показано в третьей таблице.
Альтернативный метод, как показано в четвертой таблице, заключается в использовании шрифта меньшего
размера, чтобы столбцы были не такими узкими по сравнению с размером текста.

![Переносы строк](image/24.png){#fig-024 width=70%}

Часто вместо того, чтобы размещать ячейку в нескольких строках, лучше
использовать одну строку, в которой некоторые ячейки разделены по вертикали с помощью вложенных табличных сред.

![Объединение строк](image/25.png){#fig-025 width=70%}

Также можно менять их расположение

![Расположение](image/26.png){#fig-026 width=70%}

Часто, особенно при использовании hline, лучше просто увеличить высоту
строк, не увеличивая их глубину ниже базовой линии. Следующий пример
демонстрирует параметр extrarowheight.

![Высота строк](image/27.png){#fig-027 width=70%}


**Перейдем к заданиям для самостоятельного решения:**

Возьмем простую таблицу из первого примера и попробуем использовать разные токены для выравнивания текста в колонках. 

![Код с разными токенами](image/28.png){#fig-028 width=70%}

Обратим внимание, как текст расположен в колонках: по левому краю таблицы, по правому краю и по центру.

![Таблицы с разным выравниванием](image/29.png){#fig-029 width=70%}

Далее посмотрим, что будет с таблицами, если текста будет меньше или больше.

![Меньше и больше текста](image/30.png){#fig-030 width=70%}

В первом варианте у нас остается пустая колонка, а во втором текст вылезает за границы колонки. Во втором случае следует либо добавить еще один столбец, либо использовать multicolumn.

![Результат](image/31.png){#fig-031 width=70%}

И теперь попробуем сделать таблицу с multicolumn, который упоминался выше.

![multicolumn](image/32.png){#fig-032 width=70%}

Обратим внимание, как слились 2 и 3 столбцы, которым мы задали параметр multicolumn.

![Объединение](image/33.png){#fig-033 width=70%}


# Выводы

В ходе данной работы мы разобрались, как создавать таблицы в Latex, изучили предложенные токены преамбулы и варианты оформления таблиц.

# Список литературы{.unnumbered}

::: {#refs}
:::
